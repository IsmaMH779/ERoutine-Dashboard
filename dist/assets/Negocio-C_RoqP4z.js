import{u as Ze,i as hn,t as gn,a as Q,b as Z,C as fe,E as F,c as Y,d as R,e as Ce,P as j,f as bn,g as pn,h as G,R as _t,j as yn,k as mn,D as wn,A as xn,v as he,l as Dt,m as Ne,Q as re,H as me,T as et,n as Et,o as vn,p as tt,q as Ie,r as nt,s as $e,w as Sn,x as Cn,y as Mn,z as Pn,B as An,F as kn,G as On,I as _n,J as Dn,K as En}from"./install-BC1q4E9l.js";import{d as Me,h as Tt,r as I,o as Tn,a as Fe,g as It,b as jt,t as Lt,w as L,n as Rt,s as je,i as we,c as q,e as zt,f as In,u as x,j as jn,k as Yt,l as v,m as A,p as ot,q as it,F as Ln,_ as Wt,v as Rn,x as D,I as zn,y as Yn,z as Wn,A as Xn,B as Bn,C as Hn,D as Nn,E as $n,G as Fn,H as st,J as ae}from"./index-CDpndfM1.js";const rt=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"],ge=Me({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:rt,setup(t,{emit:e}){const n=I(null),o=I(null),i=h=>h&&typeof h=="object"&&!Array.isArray(h)&&h!=null,s=(h,p)=>{typeof Object.assign!="function"&&function(){Object.assign=function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");let E=Object(m);for(let T=1;T<arguments.length;T++){let K=arguments[T];if(K!=null)for(let se in K)K.hasOwnProperty(se)&&(E[se]=K[se])}return E}}();let _=Object.assign({},h);return i(h)&&i(p)&&Object.keys(p).forEach(m=>{i(p[m])?m in h?_[m]=s(h[m],p[m]):Object.assign(_,{[m]:p[m]}):Object.assign(_,{[m]:p[m]})}),_},r=async()=>{if(await Rt(),o.value)return;const h={chart:{type:t.type||t.options.chart.type||"line",height:t.height,width:t.width,events:{}},series:t.series},p=t.options.chart?t.options.chart.events:null;rt.forEach(m=>{let E=(...T)=>e(m,...T);h.chart.events[m]=(...T)=>{E(...T),p&&p.hasOwnProperty(m)&&p[m](...T)}});const _=s(t.options,h);return o.value=new Ze(n.value,_),o.value.render()},a=()=>(l(),r()),l=()=>{o.value.destroy(),o.value=null},d=(h,p)=>o.value.updateSeries(h,p),c=(h,p,_,m)=>o.value.updateOptions(h,p,_,m),u=h=>o.value.toggleSeries(h),f=h=>{o.value.showSeries(h)},g=h=>{o.value.hideSeries(h)},b=(h,p)=>o.value.appendSeries(h,p),C=()=>{o.value.resetSeries()},k=(h,p)=>{o.value.toggleDataPointSelection(h,p)},M=h=>o.value.appendData(h),S=(h,p)=>o.value.zoomX(h,p),P=h=>o.value.dataURI(h),O=h=>o.value.setLocale(h),H=(h,p)=>{o.value.addXaxisAnnotation(h,p)},ie=(h,p)=>{o.value.addYaxisAnnotation(h,p)},J=(h,p)=>{o.value.addPointAnnotation(h,p)},Te=(h,p)=>{o.value.removeAnnotation(h,p)},w=()=>{o.value.clearAnnotations()};Tn(()=>{window.ApexCharts=Ze}),Fe(()=>{n.value=It().proxy.$el,r()}),jt(()=>{o.value&&l()});const y=Lt(t);return L(y.options,()=>{!o.value&&t.options?r():o.value.updateOptions(t.options)}),L(y.series,()=>{!o.value&&t.series?r():o.value.updateSeries(t.series)},{deep:!0}),L(y.type,()=>{a()}),L(y.width,()=>{a()}),L(y.height,()=>{a()}),{chart:o,init:r,refresh:a,destroy:l,updateOptions:c,updateSeries:d,toggleSeries:u,showSeries:f,hideSeries:g,resetSeries:C,zoomX:S,toggleDataPointSelection:k,appendData:M,appendSeries:b,addXaxisAnnotation:H,addYaxisAnnotation:ie,addPointAnnotation:J,removeAnnotation:Te,clearAnnotations:w,setLocale:O,dataURI:P}},render(){return Tt("div",{class:"vue-apexcharts"})}}),Vn=t=>{t.component(ge.name,ge)};ge.install=Vn;const Un=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Jn(t){function e(o){return(...i)=>{if(!t.value)throw new Error("ECharts is not initialized yet.");return t.value[o].apply(t.value,i)}}function n(){const o=Object.create(null);return Un.forEach(i=>{o[i]=e(i)}),o}return n()}function Kn(t,e,n){L([n,t,e],([o,i,s],r,a)=>{let l=null;if(o&&i&&s){const{offsetWidth:d,offsetHeight:c}=o,u=s===!0?{}:s,{throttle:f=100,onResize:g}=u;let b=!1;const C=()=>{i.resize(),g==null||g()},k=f?gn(C,f):C;l=new ResizeObserver(()=>{!b&&(b=!0,o.offsetWidth===d&&o.offsetHeight===c)||k()}),l.observe(o)}a(()=>{l&&(l.disconnect(),l=null)})})}const qn={autoresize:[Boolean,Object]},Gn=/^on[^a-z]/,Xt=t=>Gn.test(t);function Qn(t){const e={};for(const n in t)Xt(n)||(e[n]=t[n]);return e}function xe(t,e){const n=In(t)?x(t):t;return n&&typeof n=="object"&&"value"in n?n.value||e:n||e}const Zn="ecLoadingOptions";function eo(t,e,n){const o=we(Zn,{}),i=q(()=>({...xe(o,{}),...n==null?void 0:n.value}));zt(()=>{const s=t.value;s&&(e.value?s.showLoading(i.value):s.hideLoading())})}const to={loading:Boolean,loadingOptions:Object};let le=null;const Bt="x-vue-echarts";function no(){if(le!=null)return le;if(typeof HTMLElement>"u"||typeof customElements>"u")return le=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(Bt)}catch(t){return le=!1}return le=!0}document.head.appendChild(document.createElement("style")).textContent="x-vue-echarts{display:block;width:100%;height:100%;min-width:0}\n";const oo=no(),io="ecTheme",so="ecInitOptions",ro="ecUpdateOptions",at=/(^&?~?!?)native:/;var lt=Me({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...qn,...to},emits:{},inheritAttrs:!1,setup(t,{attrs:e}){const n=je(),o=je(),i=je(),s=we(io,null),r=we(so,null),a=we(ro,null),{autoresize:l,manualUpdate:d,loading:c,loadingOptions:u}=Lt(t),f=q(()=>i.value||t.option||null),g=q(()=>t.theme||xe(s,{})),b=q(()=>t.initOptions||xe(r,{})),C=q(()=>t.updateOptions||xe(a,{})),k=q(()=>Qn(e)),M={},S=It().proxy.$listeners,P={};S?Object.keys(S).forEach(w=>{at.test(w)?M[w.replace(at,"$1")]=S[w]:P[w]=S[w]}):Object.keys(e).filter(w=>Xt(w)).forEach(w=>{let y=w.charAt(2).toLowerCase()+w.slice(3);if(y.indexOf("native:")===0){const h="on".concat(y.charAt(7).toUpperCase()).concat(y.slice(8));M[h]=e[w];return}y.substring(y.length-4)==="Once"&&(y="~".concat(y.substring(0,y.length-4))),P[y]=e[w]});function O(w){if(!n.value)return;const y=o.value=hn(n.value,g.value,b.value);t.group&&(y.group=t.group),Object.keys(P).forEach(_=>{let m=P[_];if(!m)return;let E=_.toLowerCase();E.charAt(0)==="~"&&(E=E.substring(1),m.__once__=!0);let T=y;if(E.indexOf("zr:")===0&&(T=y.getZr(),E=E.substring(3)),m.__once__){delete m.__once__;const K=m;m=(...se)=>{K(...se),T.off(E,m)}}T.on(E,m)});function h(){y&&!y.isDisposed()&&y.resize()}function p(){const _=w||f.value;_&&y.setOption(_,C.value)}l.value?Rt(()=>{h(),p()}):p()}function H(w,y){t.manualUpdate&&(i.value=w),o.value?o.value.setOption(w,y||{}):O(w)}function ie(){o.value&&(o.value.dispose(),o.value=void 0)}let J=null;L(d,w=>{typeof J=="function"&&(J(),J=null),w||(J=L(()=>t.option,(y,h)=>{y&&(o.value?o.value.setOption(y,{notMerge:y!==h,...C.value}):O())},{deep:!0}))},{immediate:!0}),L([g,b],()=>{ie(),O()},{deep:!0}),zt(()=>{t.group&&o.value&&(o.value.group=t.group)});const Te=Jn(o);return eo(o,c,u),Kn(o,l,n),Fe(()=>{O()}),jt(()=>{oo&&n.value?n.value.__dispose=ie:ie()}),{chart:o,root:n,setOption:H,nonEventAttrs:k,nativeListeners:M,...Te}},render(){const t={...this.nonEventAttrs,...this.nativeListeners};return t.ref="root",t.class=t.class?["echarts"].concat(t.class):"echarts",Tt(Bt,t)}});const ao={class:"legend-items"},lo={class:"legend-item"},co={class:"value"},uo={class:"legend-item"},fo={class:"value"},ho=Me({__name:"DonutChart",props:{completed:{},notCompleted:{},color1:{},color2:{}},setup(t){const e=t,n=ge,o=I(e.completed),i=I(e.notCompleted),s=I([e.completed,e.notCompleted]),r=I({chart:{type:"donut",height:"100%",foreColor:"#ffffff"},colors:[e.color1,e.color2],labels:[],plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!1},value:{show:!0,fontSize:"36px",fontWeight:"bold",color:"#FF9B39",formatter:()=>"KPI 70%"},total:{show:!1}}}}},dataLabels:{enabled:!1},legend:{show:!1},grid:{show:!1}});return(a,l)=>(Yt(),jn(Ln,null,[v(x(n),{type:"donut",height:"80%",options:r.value,series:s.value},null,8,["options","series"]),A("div",ao,[A("div",lo,[A("span",{class:"color-box",style:ot({backgroundColor:e.color2})},null,4),l[0]||(l[0]=A("p",{class:"label"},"No completado",-1)),A("p",co,it(i.value)+"%",1)]),A("div",uo,[A("span",{class:"color-box",style:ot({backgroundColor:e.color1})},null,4),l[1]||(l[1]=A("p",{class:"label"},"Completado",-1)),A("p",fo,it(o.value)+"%",1)])])],64))}}),go=Wt(ho,[["__scopeId","data-v-396b5599"]]);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const dt={modes:{point(t,e){return ve(t,e,{intersect:!0})},nearest(t,e,n){return yo(t,e,n)},x(t,e,n){return ve(t,e,{intersect:n.intersect,axis:"x"})},y(t,e,n){return ve(t,e,{intersect:n.intersect,axis:"y"})}}};function Ve(t,e,n){return(dt.modes[n.mode]||dt.modes.nearest)(t,e,n)}function bo(t,e,n){return n!=="x"&&n!=="y"?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}function po(t,e,n){return n==="x"?{x:t.x,y:e.y}:n==="y"?{x:e.x,y:t.y}:e}function ve(t,e,n){return t.filter(o=>n.intersect?o.inRange(e.x,e.y):bo(o,e,n.axis))}function yo(t,e,n){let o=Number.POSITIVE_INFINITY;return ve(t,e,n).reduce((i,s)=>{const r=s.getCenterPoint(),a=po(e,r,n.axis),l=$e(e,a);return l<o?(i=[s],o=l):l===o&&i.push(s),i},[]).sort((i,s)=>i._index-s._index).slice(0,1)}function V(t,e,n){const o=Math.cos(n),i=Math.sin(n),s=e.x,r=e.y;return{x:s+o*(t.x-s)-i*(t.y-r),y:r+i*(t.x-s)+o*(t.y-r)}}const mo=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,N=.001,Pe=(t,e,n)=>Math.min(n,Math.max(e,t)),Ht=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function wo(t,e,n){for(const o of Object.keys(t))t[o]=Pe(t[o],e,n);return t}function xo(t,e,n,o){return!t||!e||n<=0?!1:Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+o,2)}function Nt(t,{x:e,y:n,x2:o,y2:i},s,{borderWidth:r,hitTolerance:a}){const l=(r+a)/2,d=t.x>=e-l-N&&t.x<=o+l+N,c=t.y>=n-l-N&&t.y<=i+l+N;return s==="x"?d:(s==="y"||d)&&c}function $t(t,{rect:e,center:n},o,{rotation:i,borderWidth:s,hitTolerance:r}){const a=V(t,n,Y(-i));return Nt(a,e,o,{borderWidth:s,hitTolerance:r})}function U(t,e){const{centerX:n,centerY:o}=t.getProps(["centerX","centerY"],e);return{x:n,y:o}}function vo(t,e,n,o=!0){const i=n.split(".");let s=0;for(const r of e.split(".")){const a=i[s++];if(parseInt(r,10)<parseInt(a,10))break;if(mo(a,r)){if(o)throw new Error("".concat(t," v").concat(n," is not supported. v").concat(e," or newer is required."));return!1}}return!0}const Ft=t=>typeof t=="string"&&t.endsWith("%"),Vt=t=>parseFloat(t)/100,Ut=t=>Pe(Vt(t),0,1),de=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),So={box:t=>de(t.centerX,t.centerY),doughnutLabel:t=>de(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>de(t.centerX,t.centerY),line:t=>de(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>de(t.centerX,t.centerY)};function Ue(t,e){return e==="start"?0:e==="end"?t:Ft(e)?Ut(e)*t:t/2}function B(t,e,n=!0){return typeof e=="number"?e:Ft(e)?(n?Ut(e):Vt(e))*t:t}function Co(t,e){const{x:n,width:o}=t,i=e.textAlign;return i==="center"?n+o/2:i==="end"||i==="right"?n+o:n}function Jt(t,e,{borderWidth:n,position:o,xAdjust:i,yAdjust:s},r){const a=Q(r),l=e.width+(a?r.width:0)+n,d=e.height+(a?r.height:0)+n,c=Je(o),u=ct(t.x,l,i,c.x),f=ct(t.y,d,s,c.y);return{x:u,y:f,x2:u+l,y2:f+d,width:l,height:d,centerX:u+l/2,centerY:f+d/2}}function Je(t,e="center"){return Q(t)?{x:he(t.x,e),y:he(t.y,e)}:(t=he(t,e),{x:t,y:t})}const Kt=(t,e)=>t&&t.autoFit&&e<1;function qt(t,e){const n=t.font,o=Z(n)?n:[n];return Kt(t,e)?o.map(function(i){const s=Ie(i);return s.size=Math.floor(i.size*e),s.lineHeight=i.lineHeight,Ie(s)}):o.map(i=>Ie(i))}function Gt(t){return t&&(R(t.xValue)||R(t.yValue))}function ct(t,e,n=0,o){return t-Ue(e,o)+n}function te(t,e,n){const o=n.init;if(o){if(o===!0)return Zt(e,n)}else return;return Mo(t,e,n)}function Qt(t,e,n){let o=!1;return e.forEach(i=>{G(t[i])?(o=!0,n[i]=t[i]):R(n[i])&&delete n[i]}),o}function Zt(t,e){const n=e.type||"line";return So[n](t)}function Mo(t,e,n){const o=Ne(n.init,[{chart:t,properties:e,options:n}]);if(o===!0)return Zt(e,n);if(Q(o))return o}const Le=new Map,Po=t=>isNaN(t)||t<=0,Ao=t=>t.reduce(function(e,n){return e+=n.string,e},"");function Ae(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function ke(t,{x:e,y:n},o){o&&(t.translate(e,n),t.rotate(Y(o)),t.translate(-e,-n))}function z(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function ne(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function Oe(t,e){const n=e.content;if(Ae(n))return{width:B(n.width,e.width),height:B(n.height,e.height)};const o=qt(e),i=e.textStrokeWidth,s=Z(n)?n:[n],r=s.join()+Ao(o)+i+(t._measureText?"-spriting":"");return Le.has(r)||Le.set(r,Do(t,s,o,i)),Le.get(r)}function en(t,e,n){const{x:o,y:i,width:s,height:r}=e;t.save(),ne(t,n);const a=z(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),yn(t,{x:o,y:i,w:s,h:r,radius:wo(mn(n.borderRadius),0,Math.min(s,r)/2)}),t.closePath(),t.fill(),a&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function tn(t,e,n,o){const i=n.content;if(Ae(i)){t.save(),t.globalAlpha=Io(n.opacity,i.style.opacity),t.drawImage(i,e.x,e.y,e.width,e.height),t.restore();return}const s=Z(i)?i:[i],r=qt(n,o),a=n.color,l=Z(a)?a:[a],d=Co(e,n),c=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,ko(t,n)&&Eo(t,{x:d,y:c},s,r),To(t,{x:d,y:c},s,{fonts:r,colors:l}),t.restore()}function ko(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}function Oo(t,e,n,o){const{radius:i,options:s}=e,r=s.pointStyle,a=s.rotation;let l=(a||0)*_t;if(Ae(r)){t.save(),t.translate(n,o),t.rotate(l),t.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),t.restore();return}Po(i)||_o(t,{x:n,y:o,radius:i,rotation:a,style:r,rad:l})}function _o(t,{x:e,y:n,radius:o,rotation:i,style:s,rad:r}){let a,l,d,c;switch(t.beginPath(),s){default:t.arc(e,n,o,0,Et),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(r)*o,n-Math.cos(r)*o),r+=et,t.lineTo(e+Math.sin(r)*o,n-Math.cos(r)*o),r+=et,t.lineTo(e+Math.sin(r)*o,n-Math.cos(r)*o),t.closePath();break;case"rectRounded":c=o*.516,d=o-c,a=Math.cos(r+re)*d,l=Math.sin(r+re)*d,t.arc(e-a,n-l,c,r-j,r-me),t.arc(e+l,n-a,c,r-me,r),t.arc(e+a,n+l,c,r,r+me),t.arc(e-l,n+a,c,r+me,r+j),t.closePath();break;case"rect":if(!i){d=Math.SQRT1_2*o,t.rect(e-d,n-d,2*d,2*d);break}r+=re;case"rectRot":a=Math.cos(r)*o,l=Math.sin(r)*o,t.moveTo(e-a,n-l),t.lineTo(e+l,n-a),t.lineTo(e+a,n+l),t.lineTo(e-l,n+a),t.closePath();break;case"crossRot":r+=re;case"cross":a=Math.cos(r)*o,l=Math.sin(r)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"star":a=Math.cos(r)*o,l=Math.sin(r)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a),r+=re,a=Math.cos(r)*o,l=Math.sin(r)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"line":a=Math.cos(r)*o,l=Math.sin(r)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(r)*o,n+Math.sin(r)*o);break}t.fill()}function Do(t,e,n,o){t.save();const i=e.length;let s=0,r=o;for(let a=0;a<i;a++){const l=n[Math.min(a,n.length-1)];t.font=l.string;const d=e[a];s=Math.max(s,t.measureText(d).width+o),r+=l.lineHeight}return t.restore(),{width:s,height:r}}function Eo(t,{x:e,y:n},o,i){t.beginPath();let s=0;o.forEach(function(r,a){const l=i[Math.min(a,i.length-1)],d=l.lineHeight;t.font=l.string,t.strokeText(r,e,n+d/2+s),s+=d}),t.stroke()}function To(t,{x:e,y:n},o,{fonts:i,colors:s}){let r=0;o.forEach(function(a,l){const d=s[Math.min(l,s.length-1)],c=i[Math.min(l,i.length-1)],u=c.lineHeight;t.beginPath(),t.font=c.string,t.fillStyle=d,t.fillText(a,e,n+u/2+r),r+=u,t.fill()})}function Io(t,e){const n=tt(t)?t:e;return tt(n)?Pe(n,0,1):1}const nn=["left","bottom","top","right"];function jo(t,e){const{pointX:n,pointY:o,options:i}=e,s=i.callout,r=s&&s.display&&Wo(e,s);if(!r||Bo(e,s,r))return;if(t.save(),t.beginPath(),!z(t,s))return t.restore();const{separatorStart:l,separatorEnd:d}=Lo(e,r),{sideStart:c,sideEnd:u}=zo(e,r,l);(s.margin>0||i.borderWidth===0)&&(t.moveTo(l.x,l.y),t.lineTo(d.x,d.y)),t.moveTo(c.x,c.y),t.lineTo(u.x,u.y);const f=V({x:n,y:o},e.getCenterPoint(),Y(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}function Lo(t,e){const{x:n,y:o,x2:i,y2:s}=t,r=Ro(t,e);let a,l;return e==="left"||e==="right"?(a={x:n+r,y:o},l={x:a.x,y:s}):(a={x:n,y:o+r},l={x:i,y:a.y}),{separatorStart:a,separatorEnd:l}}function Ro(t,e){const{width:n,height:o,options:i}=t,s=i.callout.margin+i.borderWidth/2;return e==="right"?n+s:e==="bottom"?o+s:-s}function zo(t,e,n){const{y:o,width:i,height:s,options:r}=t,a=r.callout.start,l=Yo(e,r.callout);let d,c;return e==="left"||e==="right"?(d={x:n.x,y:o+B(s,a)},c={x:d.x+l,y:d.y}):(d={x:n.x+B(i,a),y:n.y},c={x:d.x,y:d.y+l}),{sideStart:d,sideEnd:c}}function Yo(t,e){const n=e.side;return t==="left"||t==="top"?-n:n}function Wo(t,e){const n=e.position;return nn.includes(n)?n:Xo(t,e)}function Xo(t,e){const{x:n,y:o,x2:i,y2:s,width:r,height:a,pointX:l,pointY:d,centerX:c,centerY:u,rotation:f}=t,g={x:c,y:u},b=e.start,C=B(r,b),k=B(a,b),M=[n,n+C,n+C,i],S=[o+k,s,o,s],P=[];for(let O=0;O<4;O++){const H=V({x:M[O],y:S[O]},g,Y(f));P.push({position:nn[O],distance:$e(H,{x:l,y:d})})}return P.sort((O,H)=>O.distance-H.distance)[0].position}function Bo(t,e,n){const{pointX:o,pointY:i}=t,s=e.margin;let r=o,a=i;return n==="left"?r+=s:n==="right"?r-=s:n==="top"?a+=s:n==="bottom"&&(a-=s),t.inRange(r,a)}const ut={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function ee(t,e,n){return e=typeof e=="number"?e:t.parse(e),Dt(e)?t.getPixelForValue(e):n}function $(t,e,n){const o=e[n];if(o||n==="scaleID")return o;const i=n.charAt(0),s=Object.values(t).filter(r=>r.axis&&r.axis===i);return s.length?s[0].id:i}function on(t,e){if(t){const n=t.options.reverse,o=ee(t,e.min,n?e.end:e.start),i=ee(t,e.max,n?e.start:e.end);return{start:o,end:i}}}function sn(t,e){const{chartArea:n,scales:o}=t,i=o[$(o,e,"xScaleID")],s=o[$(o,e,"yScaleID")];let r=n.width/2,a=n.height/2;return i&&(r=ee(i,e.xValue,i.left+i.width/2)),s&&(a=ee(s,e.yValue,s.top+s.height/2)),{x:r,y:a}}function Ke(t,e){const n=t.scales,o=n[$(n,e,"xScaleID")],i=n[$(n,e,"yScaleID")];if(!o&&!i)return{};let{left:s,right:r}=o||t.chartArea,{top:a,bottom:l}=i||t.chartArea;const d=ft(o,{min:e.xMin,max:e.xMax,start:s,end:r});s=d.start,r=d.end;const c=ft(i,{min:e.yMin,max:e.yMax,start:l,end:a});return a=c.start,l=c.end,{x:s,y:a,x2:r,y2:l,width:r-s,height:l-a,centerX:s+(r-s)/2,centerY:a+(l-a)/2}}function rn(t,e){if(!Gt(e)){const n=Ke(t,e);let o=e.radius;(!o||isNaN(o))&&(o=Math.min(n.width,n.height)/2,e.radius=o);const i=o*2,s=n.centerX+e.xAdjust,r=n.centerY+e.yAdjust;return{x:s-o,y:r-o,x2:s+o,y2:r+o,centerX:s,centerY:r,width:i,height:i,radius:o}}return No(t,e)}function Ho(t,e){const{scales:n,chartArea:o}=t,i=n[e.scaleID],s={x:o.left,y:o.top,x2:o.right,y2:o.bottom};return i?$o(i,s,e):Fo(n,s,e),s}function an(t,e){const n=Ke(t,e);return n.initProperties=te(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:Jo(t,n,e),initProperties:n.initProperties}],n}function No(t,e){const n=sn(t,e),o=e.radius*2;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:o,height:o}}function ft(t,e){const n=on(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function $o(t,e,n){const o=ee(t,n.value,NaN),i=ee(t,n.endValue,o);t.isHorizontal()?(e.x=o,e.x2=i):(e.y=o,e.y2=i)}function Fo(t,e,n){for(const o of Object.keys(ut)){const i=t[$(t,n,o)];if(i){const{min:s,max:r,start:a,end:l,startProp:d,endProp:c}=ut[o],u=on(i,{min:n[s],max:n[r],start:i[a],end:i[l]});e[d]=u.start,e[c]=u.end}}}function Vo({properties:t,options:e},n,o,i){const{x:s,x2:r,width:a}=t;return ln({start:s,end:r,borderWidth:e.borderWidth},{position:o.x,padding:{start:i.left,end:i.right},adjust:e.label.xAdjust,size:n.width})}function Uo({properties:t,options:e},n,o,i){const{y:s,y2:r,height:a}=t;return ln({start:s,end:r,borderWidth:e.borderWidth},{position:o.y,padding:{start:i.top,end:i.bottom},adjust:e.label.yAdjust,size:n.height})}function ln(t,e){const{start:n,end:o,borderWidth:i}=t,{position:s,padding:{start:r,end:a},adjust:l}=e,d=o-i-n-r-a-e.size;return n+i/2+l+Ue(d,s)}function Jo(t,e,n){const o=n.label;o.backgroundColor="transparent",o.callout.display=!1;const i=Je(o.position),s=Ce(o.padding),r=Oe(t.ctx,o),a=Vo({properties:e,options:n},r,i,s),l=Uo({properties:e,options:n},r,i,s),d=r.width+s.width,c=r.height+s.height;return{x:a,y:l,x2:a+d,y2:l+c,width:d,height:c,centerX:a+d/2,centerY:l+c/2,rotation:o.rotation}}const Re=["enter","leave"],qe=Re.concat("click");function Ko(t,e,n){e.listened=Qt(n,qe,e.listeners),e.moveListened=!1,Re.forEach(o=>{G(n[o])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(o=>{!e.listened&&G(o.click)&&(e.listened=!0),e.moveListened||Re.forEach(i=>{G(o[i])&&(e.listened=!0,e.moveListened=!0)})})}function qo(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return Go(t,e,n);case"click":return Qo(t,e,n)}}function Go(t,e,n){if(!t.moveListened)return;let o;e.type==="mousemove"?o=Ve(t.visibleElements,e,n.interaction):o=[];const i=t.hovered;t.hovered=o;const s={state:t,event:e};let r=ht(s,"leave",i,o);return ht(s,"enter",o,i)||r}function ht({state:t,event:e},n,o,i){let s;for(const r of o)i.indexOf(r)<0&&(s=dn(r.options[n]||t.listeners[n],r,e)||s);return s}function Qo(t,e,n){const o=t.listeners,i=Ve(t.visibleElements,e,n.interaction);let s;for(const r of i)s=dn(r.options.click||o.click,r,e)||s;return s}function dn(t,e,n){return Ne(t,[e.$context,n])===!0}const Se=["afterDraw","beforeDraw"];function Zo(t,e,n){const o=e.visibleElements;e.hooked=Qt(n,Se,e.hooks),e.hooked||o.forEach(i=>{e.hooked||Se.forEach(s=>{G(i.options[s])&&(e.hooked=!0)})})}function gt(t,e,n){if(t.hooked){const o=e.options[n]||t.hooks[n];return Ne(o,[e.$context])}}function ei(t,e,n){const o=si(t.scales,e,n);let i=bt(e,o,"min","suggestedMin");i=bt(e,o,"max","suggestedMax")||i,i&&G(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function ti(t,e){for(const n of t)oi(n,e)}function bt(t,e,n,o){if(Dt(e[n])&&!ni(t.options,n,o)){const i=t[n]!==e[n];return t[n]=e[n],i}}function ni(t,e,n){return R(t[e])||R(t[n])}function oi(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const o=$(e,t,n);o&&!e[o]&&ii(t,n)&&console.warn("No scale found with id '".concat(o,"' for annotation '").concat(t.id,"'"))}}function ii(t,e){if(e==="scaleID")return!0;const n=e.charAt(0);for(const o of["Min","Max","Value"])if(R(t[n+o]))return!0;return!1}function si(t,e,n){const o=e.axis,i=e.id,s=o+"ScaleID",r={min:he(e.min,Number.NEGATIVE_INFINITY),max:he(e.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===i?pt(a,e,["value","endValue"],r):$(t,a,s)===i&&pt(a,e,[o+"Min",o+"Max",o+"Value"],r);return r}function pt(t,e,n,o){for(const i of n){const s=t[i];if(R(s)){const r=e.parse(s);o.min=Math.min(o.min,r),o.max=Math.max(o.max,r)}}}class oe extends F{inRange(e,n,o,i){const{x:s,y:r}=V({x:e,y:n},this.getCenterPoint(i),Y(-this.options.rotation));return Nt({x:s,y:r},this.getProps(["x","y","x2","y2"],i),o,this.options)}getCenterPoint(e){return U(this,e)}draw(e){e.save(),ke(e,this.getCenterPoint(),this.options.rotation),en(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return an(e,n)}}oe.id="boxAnnotation";oe.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};oe.defaultRoutes={borderColor:"color",backgroundColor:"color"};oe.descriptors={label:{_fallback:!0}};class _e extends F{inRange(e,n,o,i){return $t({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},o,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return U(this,e)}draw(e){const n=this.options;!n.display||!n.content||(ui(e,this),e.save(),ke(e,this.getCenterPoint(),this.rotation),tn(e,this,n,this._fitRatio),e.restore())}resolveElementProperties(e,n){const o=ri(e,n);if(!o)return{};const{controllerMeta:i,point:s,radius:r}=li(e,n,o);let a=Oe(e.ctx,n);const l=di(a,r);Kt(n,l)&&(a={width:a.width*l,height:a.height*l});const{position:d,xAdjust:c,yAdjust:u}=n,f=Jt(s,a,{borderWidth:0,position:d,xAdjust:c,yAdjust:u});return{initProperties:te(e,f,n),...f,...i,rotation:n.rotation,_fitRatio:l}}}_e.id="doughnutLabelAnnotation";_e.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};_e.defaultRoutes={};function ri(t,e){return t.getSortedVisibleDatasetMetas().reduce(function(n,o){const i=o.controller;return i instanceof wn&&ai(t,e,o.data)&&(!n||i.innerRadius<n.controller.innerRadius)&&i.options.circumference>=90?o:n},void 0)}function ai(t,e,n){if(!e.autoHide)return!0;for(let o=0;o<n.length;o++)if(!n[o].hidden&&t.getDataVisibility(o))return!0}function li({chartArea:t},e,n){const{left:o,top:i,right:s,bottom:r}=t,{innerRadius:a,offsetX:l,offsetY:d}=n.controller,c=(o+s)/2+l,u=(i+r)/2+d,f={left:Math.max(c-a,o),right:Math.min(c+a,s),top:Math.max(u-a,i),bottom:Math.min(u+a,r)},g={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},b=e.spacing+e.borderWidth/2,C=a-b,k=g.y>u,M=k?i+b:r-b,S=ci(M,c,u,C);return{controllerMeta:{_centerX:c,_centerY:u,_radius:C,_counterclockwise:k,...S},point:g,radius:Math.min(a,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function di({width:t,height:e},n){const o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return n*2/o}function ci(t,e,n,o){const i=Math.pow(n-t,2),s=Math.pow(o,2),r=e*-2,a=Math.pow(e,2)+i-s,l=Math.pow(r,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:Et};const d=(-r-Math.sqrt(l))/2,c=(-r+Math.sqrt(l))/2;return{_startAngle:nt({x:e,y:n},{x:d,y:t}).angle,_endAngle:nt({x:e,y:n},{x:c,y:t}).angle}}function ui(t,e){const{_centerX:n,_centerY:o,_radius:i,_startAngle:s,_endAngle:r,_counterclockwise:a,options:l}=e;t.save();const d=z(t,l);t.fillStyle=l.backgroundColor,t.beginPath(),t.arc(n,o,i,s,r,a),t.closePath(),t.fill(),d&&t.stroke(),t.restore()}class be extends F{inRange(e,n,o,i){return $t({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},o,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return U(this,e)}draw(e){const n=this.options,o=!R(this._visible)||this._visible;!n.display||!n.content||!o||(e.save(),ke(e,this.getCenterPoint(),this.rotation),jo(e,this),en(e,this,n),tn(e,fi(this),n),e.restore())}resolveElementProperties(e,n){let o;if(Gt(n))o=sn(e,n);else{const{centerX:a,centerY:l}=Ke(e,n);o={x:a,y:l}}const i=Ce(n.padding),s=Oe(e.ctx,n),r=Jt(o,s,n,i);return{initProperties:te(e,r,n),pointX:o.x,pointY:o.y,...r,rotation:n.rotation}}}be.id="labelAnnotation";be.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};be.defaultRoutes={borderColor:"color"};function fi({x:t,y:e,width:n,height:o,options:i}){const s=i.borderWidth/2,r=Ce(i.padding);return{x:t+r.left+s,y:e+r.top+s,width:n-r.left-r.right-i.borderWidth,height:o-r.top-r.bottom-i.borderWidth}}const Ge=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),ze=(t,e,n)=>Ge(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,yt=(t,e,n)=>Ge(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,ue=t=>t*t,hi=(t,e,{x:n,y:o,x2:i,y2:s},r)=>r==="y"?{start:Math.min(o,s),end:Math.max(o,s),value:e}:{start:Math.min(n,i),end:Math.max(n,i),value:t},mt=(t,e,n,o)=>(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n,Ye=(t,e,n,o)=>({x:mt(t.x,e.x,n.x,o),y:mt(t.y,e.y,n.y,o)}),wt=(t,e,n,o)=>2*(1-o)*(e-t)+2*o*(n-e),xt=(t,e,n,o)=>-Math.atan2(wt(t.x,e.x,n.x,o),wt(t.y,e.y,n.y,o))+.5*j;class pe extends F{inRange(e,n,o,i){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y"){const r={mouseX:e,mouseY:n},{path:a,ctx:l}=this;if(a){z(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:c}=this.$context,u=e*c.currentDevicePixelRatio,f=n*c.currentDevicePixelRatio,g=l.isPointInStroke(a,u,f)||We(this,r,i);return l.restore(),g}const d=ue(s);return yi(this,r,d,i)||We(this,r,i)}return gi(this,{mouseX:e,mouseY:n},o,{hitSize:s,useFinalPosition:i})}getCenterPoint(e){return U(this,e)}draw(e){const{x:n,y:o,x2:i,y2:s,cp:r,options:a}=this;if(e.save(),!z(e,a))return e.restore();ne(e,a);const l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-o,2));if(a.curve&&r)return Pi(e,this,r,l),e.restore();const{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=cn(this),g=Math.atan2(s-o,i-n);e.translate(n,o),e.rotate(g),e.beginPath(),e.moveTo(0+u,0),e.lineTo(l-f,0),e.shadowColor=a.borderShadowColor,e.stroke(),Xe(e,0,u,d),Xe(e,l,-f,c),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){const o=Ho(e,n),{x:i,y:s,x2:r,y2:a}=o,l=bi(o,e.chartArea),d=l?pi({x:i,y:s},{x:r,y:a},e.chartArea):{x:i,y:s,x2:r,y2:a,width:Math.abs(r-i),height:Math.abs(a-s)};if(d.centerX=(r+i)/2,d.centerY=(a+s)/2,d.initProperties=te(e,d,n),n.curve){const u={x:d.x,y:d.y},f={x:d.x2,y:d.y2};d.cp=Mi(d,n,$e(u,f))}const c=mi(e,d,n.label);return c._visible=l,d.elements=[{type:"label",optionScope:"label",properties:c,initProperties:d.initProperties}],d}}pe.id="lineAnnotation";const vt={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};pe.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},vt),fill:!1,length:12,start:Object.assign({},vt),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},be.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};pe.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};pe.defaultRoutes={borderColor:"color"};function gi(t,{mouseX:e,mouseY:n},o,{hitSize:i,useFinalPosition:s}){const r=hi(e,n,t.getProps(["x","y","x2","y2"],s),o);return Ht(r,i)||We(t,{mouseX:e,mouseY:n},s,o)}function bi({x:t,y:e,x2:n,y2:o},{top:i,right:s,bottom:r,left:a}){return!(t<a&&n<a||t>s&&n>s||e<i&&o<i||e>r&&o>r)}function St({x:t,y:e},n,{top:o,right:i,bottom:s,left:r}){return t<r&&(e=yt(r,{x:t,y:e},n),t=r),t>i&&(e=yt(i,{x:t,y:e},n),t=i),e<o&&(t=ze(o,{x:t,y:e},n),e=o),e>s&&(t=ze(s,{x:t,y:e},n),e=s),{x:t,y:e}}function pi(t,e,n){const{x:o,y:i}=St(t,e,n),{x:s,y:r}=St(e,t,n);return{x:o,y:i,x2:s,y2:r,width:Math.abs(s-o),height:Math.abs(r-i)}}function yi(t,{mouseX:e,mouseY:n},o=N,i){const{x:s,y:r,x2:a,y2:l}=t.getProps(["x","y","x2","y2"],i),d=a-s,c=l-r,u=ue(d)+ue(c),f=u===0?-1:((e-s)*d+(n-r)*c)/u;let g,b;return f<0?(g=s,b=r):f>1?(g=a,b=l):(g=s+f*d,b=r+f*c),ue(e-g)+ue(n-b)<=o}function We(t,{mouseX:e,mouseY:n},o,i){const s=t.label;return s.options.display&&s.inRange(e,n,i,o)}function mi(t,e,n){const o=n.borderWidth,i=Ce(n.padding),s=Oe(t.ctx,n),r=s.width+i.width+o,a=s.height+i.height+o;return xi(e,n,{width:r,height:a,padding:i},t.chartArea)}function wi(t){const{x:e,y:n,x2:o,y2:i}=t,s=Math.atan2(i-n,o-e);return s>j/2?s-j:s<j/-2?s+j:s}function xi(t,e,n,o){const{width:i,height:s,padding:r}=n,{xAdjust:a,yAdjust:l}=e,d={x:t.x,y:t.y},c={x:t.x2,y:t.y2},u=e.rotation==="auto"?wi(t):Y(e.rotation),f=vi(i,s,u),g=Si(t,e,{labelSize:f,padding:r},o),b=t.cp?Ye(d,t.cp,c,g):Ge(d,c,g),C={size:f.w,min:o.left,max:o.right,padding:r.left},k={size:f.h,min:o.top,max:o.bottom,padding:r.top},M=Mt(b.x,C)+a,S=Mt(b.y,k)+l;return{x:M-i/2,y:S-s/2,x2:M+i/2,y2:S+s/2,centerX:M,centerY:S,pointX:b.x,pointY:b.y,width:i,height:s,rotation:vn(u)}}function vi(t,e,n){const o=Math.cos(n),i=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*i),h:Math.abs(t*i)+Math.abs(e*o)}}function Si(t,e,n,o){let i;const s=Ci(t,o);return e.position==="start"?i=Ct({w:t.x2-t.x,h:t.y2-t.y},n,e,s):e.position==="end"?i=1-Ct({w:t.x-t.x2,h:t.y-t.y2},n,e,s):i=Ue(1,e.position),i}function Ct(t,e,n,o){const{labelSize:i,padding:s}=e,r=t.w*o.dx,a=t.h*o.dy,l=r>0&&(i.w/2+s.left-o.x)/r,d=a>0&&(i.h/2+s.top-o.y)/a;return Pe(Math.max(l,d),0,.25)}function Ci(t,e){const{x:n,x2:o,y:i,y2:s}=t,r=Math.min(i,s)-e.top,a=Math.min(n,o)-e.left,l=e.bottom-Math.max(i,s),d=e.right-Math.max(n,o);return{x:Math.min(a,d),y:Math.min(r,l),dx:a<=d?1:-1,dy:r<=l?1:-1}}function Mt(t,e){const{size:n,min:o,max:i,padding:s}=e,r=n/2;return n>i-o?(i+o)/2:(o>=t-s-r&&(t=o+s+r),i<=t+s+r&&(t=i-s-r),t)}function cn(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,o=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:o,startAdjust:Pt(t,n),endAdjust:Pt(t,o)}}function Pt(t,e){if(!e||!e.display)return 0;const{length:n,width:o}=e,i=t.options.borderWidth/2,s={x:n,y:o+i};return Math.abs(ze(0,s,{x:0,y:i}))}function Xe(t,e,n,o){if(!o||!o.display)return;const{length:i,width:s,fill:r,backgroundColor:a,borderColor:l}=o,d=Math.abs(e-i)+n;t.beginPath(),ne(t,o),z(t,o),t.moveTo(d,-s),t.lineTo(e+n,0),t.lineTo(d,s),r===!0?(t.fillStyle=a||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=o.borderShadowColor,t.stroke()}function Mi(t,e,n){const{x:o,y:i,x2:s,y2:r,centerX:a,centerY:l}=t,d=Math.atan2(r-i,s-o),c=Je(e.controlPoint,0),u={x:a+B(n,c.x,!1),y:l+B(n,c.y,!1)};return V(u,{x:a,y:l},d)}function At(t,{x:e,y:n},{angle:o,adjust:i},s){!s||!s.display||(t.save(),t.translate(e,n),t.rotate(o),Xe(t,0,-i,s),t.restore())}function Pi(t,e,n,o){const{x:i,y:s,x2:r,y2:a,options:l}=e,{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=cn(e),g={x:i,y:s},b={x:r,y:a},C=xt(g,n,b,0),k=xt(g,n,b,1)-j,M=Ye(g,n,b,u/o),S=Ye(g,n,b,1-f/o),P=new Path2D;t.beginPath(),P.moveTo(M.x,M.y),P.quadraticCurveTo(n.x,n.y,S.x,S.y),t.shadowColor=l.borderShadowColor,t.stroke(P),e.path=P,e.ctx=t,At(t,M,{angle:C,adjust:u},d),At(t,S,{angle:k,adjust:f},c)}class ye extends F{inRange(e,n,o,i){const s=this.options.rotation,r=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y")return Ai({x:e,y:n},this.getProps(["width","height","centerX","centerY"],i),s,r);const{x:a,y:l,x2:d,y2:c}=this.getProps(["x","y","x2","y2"],i),u=o==="y"?{start:l,end:c}:{start:a,end:d},f=V({x:e,y:n},this.getCenterPoint(i),Y(-s));return f[o]>=u.start-r-N&&f[o]<=u.end+r+N}getCenterPoint(e){return U(this,e)}draw(e){const{width:n,height:o,centerX:i,centerY:s,options:r}=this;e.save(),ke(e,this.getCenterPoint(),r.rotation),ne(e,this.options),e.beginPath(),e.fillStyle=r.backgroundColor;const a=z(e,r);e.ellipse(i,s,o/2,n/2,j/2,0,2*j),e.fill(),a&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return an(e,n)}}ye.id="ellipseAnnotation";ye.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},oe.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ye.defaultRoutes={borderColor:"color",backgroundColor:"color"};ye.descriptors={label:{_fallback:!0}};function Ai(t,e,n,o){const{width:i,height:s,centerX:r,centerY:a}=e,l=i/2,d=s/2;if(l<=0||d<=0)return!1;const c=Y(n||0),u=Math.cos(c),f=Math.sin(c),g=Math.pow(u*(t.x-r)+f*(t.y-a),2),b=Math.pow(f*(t.x-r)-u*(t.y-a),2);return g/Math.pow(l+o,2)+b/Math.pow(d+o,2)<=1.0001}class De extends F{inRange(e,n,o,i){const{x:s,y:r,x2:a,y2:l,width:d}=this.getProps(["x","y","x2","y2","width"],i),c=(this.options.borderWidth+this.options.hitTolerance)/2;return o!=="x"&&o!=="y"?xo({x:e,y:n},this.getCenterPoint(i),d/2,c):Ht(o==="y"?{start:r,end:l,value:n}:{start:s,end:a,value:e},c)}getCenterPoint(e){return U(this,e)}draw(e){const n=this.options,o=n.borderWidth;if(n.radius<.1)return;e.save(),e.fillStyle=n.backgroundColor,ne(e,n);const i=z(e,n);Oo(e,this,this.centerX,this.centerY),i&&!Ae(n.pointStyle)&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore(),n.borderWidth=o}resolveElementProperties(e,n){const o=rn(e,n);return o.initProperties=te(e,o,n),o}}De.id="pointAnnotation";De.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};De.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Ee extends F{inRange(e,n,o,i){if(o!=="x"&&o!=="y")return this.options.radius>=.1&&this.elements.length>1&&Oi(this.elements,e,n,i);const s=V({x:e,y:n},this.getCenterPoint(i),Y(-this.options.rotation)),r=this.elements.map(d=>o==="y"?d.bY:d.bX),a=Math.min(...r),l=Math.max(...r);return s[o]>=a&&s[o]<=l}getCenterPoint(e){return U(this,e)}draw(e){const{elements:n,options:o}=this;e.save(),e.beginPath(),e.fillStyle=o.backgroundColor,ne(e,o);const i=z(e,o);let s=!0;for(const r of n)s?(e.moveTo(r.x,r.y),s=!1):e.lineTo(r.x,r.y);e.closePath(),e.fill(),i&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,n){const o=rn(e,n),{sides:i,rotation:s}=n,r=[],a=2*j/i;let l=s*_t;for(let d=0;d<i;d++,l+=a){const c=ki(o,n,l);c.initProperties=te(e,o,n),r.push(c)}return o.elements=r,o}}Ee.id="polygonAnnotation";Ee.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Ee.defaultRoutes={borderColor:"color",backgroundColor:"color"};function ki({centerX:t,centerY:e},{radius:n,borderWidth:o,hitTolerance:i},s){const r=(o+i)/2,a=Math.sin(s),l=Math.cos(s),d={x:t+a*n,y:e-l*n};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:t+a*(n+r),bY:e-l*(n+r)}}}function Oi(t,e,n,o){let i=!1,s=t[t.length-1].getProps(["bX","bY"],o);for(const r of t){const a=r.getProps(["bX","bY"],o);a.bY>n!=s.bY>n&&e<(s.bX-a.bX)*(n-a.bY)/(s.bY-a.bY)+a.bX&&(i=!i),s=a}return i}const X={box:oe,doughnutLabel:_e,ellipse:ye,label:be,line:pe,point:De,polygon:Ee};Object.keys(X).forEach(t=>{Sn.describe("elements.".concat(X[t].id),{_fallback:"plugins.annotation.common"})});const _i={update:Object.assign},Di=qe.concat(Se),kt=(t,e)=>Q(e)?He(t,e):t,Be=t=>t==="color"||t==="font";function Qe(t="line"){return X[t]?t:(console.warn("Unknown annotation type: '".concat(t,"', defaulting to 'line'")),"line")}function Ei(t,e,n,o){const i=Ii(t,n.animations,o),s=e.annotations,r=Ri(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],d=un(r,a,l.type),c=l.setContext(Li(t,d,r,l)),u=d.resolveElementProperties(t,c);u.skip=Ti(u),"elements"in u&&(ji(d,u.elements,c,i),delete u.elements),R(d.x)||Object.assign(d,u),Object.assign(d,u.initProperties),u.options=fn(c),i.update(d,u)}}function Ti(t){return isNaN(t.x)||isNaN(t.y)}function Ii(t,e,n){return n==="reset"||n==="none"||n==="resize"?_i:new xn(t,e)}function ji(t,e,n,o){const i=t.elements||(t.elements=[]);i.length=e.length;for(let s=0;s<e.length;s++){const r=e[s],a=r.properties,l=un(i,s,r.type,r.initProperties),d=n[r.optionScope].override(r);a.options=fn(d),o.update(l,a)}}function un(t,e,n,o){const i=X[Qe(n)];let s=t[e];return(!s||!(s instanceof i))&&(s=t[e]=new i,Object.assign(s,o)),s}function fn(t){const e=X[Qe(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,He(t,e.defaults),He(t,e.defaultRoutes));for(const o of Di)n[o]=t[o];return n}function He(t,e){const n={};for(const o of Object.keys(e)){const i=e[o],s=t[o];Be(o)&&Z(s)?n[o]=s.map(r=>kt(r,i)):n[o]=kt(s,i)}return n}function Li(t,e,n,o){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,get elements(){return n.filter(i=>i&&i.options)},id:o.id,type:"annotation"}))}function Ri(t,e){const n=e.length,o=t.length;if(o<n){const i=n-o;t.splice(o,0,...new Array(i))}else o>n&&t.splice(n,o-n);return t}var zi="3.1.0";const W=new Map,Ot=t=>t.type!=="doughnutLabel",Yi=qe.concat(Se);var Wi={id:"annotation",version:zi,beforeRegister(){vo("chart.js","4.0",fe.version)},afterRegister(){fe.register(X)},afterUnregister(){fe.unregister(X)},beforeInit(t){W.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const o=W.get(t),i=o.annotations=[];let s=n.annotations;Q(s)?Object.keys(s).forEach(r=>{const a=s[r];Q(a)&&(a.id=r,i.push(a))}):Z(s)&&i.push(...s),ti(i.filter(Ot),t.scales)},afterDataLimits(t,e){const n=W.get(t);ei(t,e.scale,n.annotations.filter(Ot).filter(o=>o.display&&o.adjustScaleRange))},afterUpdate(t,e,n){const o=W.get(t);Ko(t,o,n),Ei(t,o,n,e.mode),o.visibleElements=o.elements.filter(i=>!i.skip&&i.options.display),Zo(t,o,n)},beforeDatasetsDraw(t,e,n){ce(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){ce(t,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(t,e,n){ce(t,e.index,n.clip)},beforeDraw(t,e,n){ce(t,"beforeDraw",n.clip)},afterDraw(t,e,n){ce(t,"afterDraw",n.clip)},beforeEvent(t,e,n){const o=W.get(t);qo(o,e.event,n)&&(e.changed=!0)},afterDestroy(t){W.delete(t)},getAnnotations(t){const e=W.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(t,e,n){return Ve(t,e,n)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!Yi.includes(t)&&t!=="init",annotations:{_allKeys:!1,_fallback:(t,e)=>"elements.".concat(X[Qe(e.type)].id)},interaction:{_fallback:!0},common:{label:{_indexable:Be,_fallback:!0},_indexable:Be}},additionalOptionScopes:[""]};function ce(t,e,n){const{ctx:o,chartArea:i}=t,s=W.get(t);n&&bn(o,i);const r=Xi(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of r)Bi(o,i,s,a);n&&pn(o)}function Xi(t,e){const n=[];for(const o of t)if(o.options.drawTime===e&&n.push({element:o,main:!0}),o.elements&&o.elements.length)for(const i of o.elements)i.options.display&&i.options.drawTime===e&&n.push({element:i});return n}function Bi(t,e,n,o){const i=o.element;o.main?(gt(n,i,"beforeDraw"),i.draw(t,e),gt(n,i,"afterDraw")):i.draw(t,e)}const Hi={class:"chart-container"},Ni={class:"chart-container"},$i={class:"chart-container inf-div"},Fi={class:"chart-container inf-div"},Vi={class:"chart-container inf-div"},Ui=Me({__name:"Negocio",setup(t){fe.register(Wi);const e=ge;Cn([Mn,Pn,An,kn,On,_n,Dn,En]);const n=I();Fe(()=>{n.value&&new fe(n.value,{type:"line",data:{labels:["Dic","Ene","Feb","Mar","Abr","May"],datasets:[{label:"Usuarios registrados",data:[800,2200,2e3,1900,2500,3e3],borderColor:"#E09915",backgroundColor:"rgba(224, 153, 21, 0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Crecimiento de usuarios",color:"#ffffff",font:{size:18}},legend:{labels:{color:"#ffffff"}},tooltip:{backgroundColor:"#000000",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#E09915",borderWidth:1},annotation:{annotations:{kpiLine:{type:"line",yMin:4500,yMax:4500,borderColor:"#FFFF39",borderWidth:2,borderDash:[6,6],label:{content:"Meta Junio: 4500",enabled:!0,position:"end",color:"#ffffff",backgroundColor:"purple",font:{size:10,weight:"normal"},padding:4,xAdjust:-10}}}}},scales:{x:{grid:{display:!1},ticks:{color:"#ffffff"}},y:{grid:{display:!1},ticks:{color:"#ffffff"}}}}})});const o=I({chart:{type:"bar",stacked:!0,height:"100%",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"70%"}},title:{text:"Usuarios activos a 6 meses",align:"center",style:{color:"#ffffff"}},colors:["#E09915","#FFB700"],xaxis:{categories:["Dic '25","Ene '25","Feb '25","Mar '25","Abr '25","May '25"],labels:{style:{colors:"#ffffff"}}},yaxis:{labels:{style:{colors:"#ffffff"}}},grid:{show:!0},legend:{labels:{colors:"#ffffff"}},tooltip:{theme:"dark"},annotations:{yaxis:[{y:4e3,borderColor:"#800080",strokeDashArray:4,label:{text:"KPI esperado (40%)",style:{color:"#fff",background:"#800080",fontSize:"11px"}}}]}}),i=I([{name:"Activos",data:[658,1800,1500,1300,2200,2900]},{name:"Total alta",data:[142,400,700,900,300,100]}]),s=I({title:{text:"Uso de funcionalidad específica",left:"center",textStyle:{color:"#ffffff"}},tooltip:{trigger:"axis"},grid:{show:!1,containLabel:!0},xAxis:{type:"value",axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{color:"#ffffff",formatter:"{value}%"},splitLine:{show:!1}},yAxis:{type:"category",data:["Progreso","Entrenamiento","Crear rutina"],axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{color:"#ffffff"}},series:[{name:"Uso",type:"bar",data:[20,35,45],itemStyle:{color:a=>["#E09915","#E09915","#E09915","#E09915"][a.dataIndex]},label:{show:!0,position:"insideRight",color:"#ffffff"},markLine:{data:[{name:"Progreso 25%",xAxis:25,lineStyle:{color:"#ff0000",type:"dashed"},label:{show:!0,position:"end",formatter:"Progreso 25%"}}],symbol:"none",lineStyle:{width:2}}}]}),r=I({title:{text:"Subida de imágenes",left:"center",textStyle:{color:"#ffffff"}},tooltip:{trigger:"axis"},legend:{data:["Ejercicio","Subidas"],top:"bottom",textStyle:{color:"#ffffff"}},xAxis:{data:["Nov.","Int.","Adv."],axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{color:"#ffffff"},splitLine:{show:!1}},yAxis:[{type:"value",name:"Ejercicio",axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{color:"#ffffff"},splitLine:{show:!1}},{type:"value",name:"Subidas %",min:0,max:100,axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{color:"#ffffff"},splitLine:{show:!1}}],series:[{name:"Ejercicio",type:"bar",data:[50,40,10],itemStyle:{color:"#FED300"},label:{show:!0,position:"top",color:"#ffffff"}},{name:"Subidas",type:"line",yAxisIndex:1,data:[90,70,30],itemStyle:{color:"#FF9800"},lineStyle:{width:2},label:{show:!0,color:"#FF9800"},markLine:{data:[{name:"KPI Subidas",yAxis:60,lineStyle:{color:"#FF0000",type:"dashed",width:2},label:{show:!0,position:"middle",formatter:"KPI 60%",color:"#FF0000"}}],symbol:"none",silent:!0}}]});return(a,l)=>(Yt(),Rn(x(zn),null,{default:D(()=>[v(x(Yn),{translucent:!0,class:"header"},{default:D(()=>[v(x(Wn),null,{default:D(()=>[v(x(Xn),{slot:"start"},{default:D(()=>[v(x(Bn),{color:"primary"})]),_:1}),v(x(Hn),null,{default:D(()=>l[0]||(l[0]=[Nn("Negocio")])),_:1})]),_:1})]),_:1}),v(x($n),{fullscreen:!0,class:"transparent-content"},{default:D(()=>[v(x(Fn),{class:"dashboard-grid"},{default:D(()=>[v(x(st),{class:"ion-row-1"},{default:D(()=>[v(x(ae),{size:"12","size-md":"6",class:"chart-col"},{default:D(()=>[A("div",Hi,[A("canvas",{ref_key:"lineChart",ref:n},null,512)])]),_:1}),v(x(ae),{size:"12","size-md":"6",class:"chart-col"},{default:D(()=>[A("div",Ni,[v(x(e),{type:"bar",height:"100%",options:o.value,series:i.value},null,8,["options","series"])])]),_:1})]),_:1}),v(x(st),{class:"ion-row-2"},{default:D(()=>[v(x(ae),{size:"12","size-md":"4",class:"chart-col"},{default:D(()=>[A("div",$i,[v(go,{completed:65,notCompleted:35,color1:"#E09915",color2:"#FFB700"})])]),_:1}),v(x(ae),{size:"12","size-md":"4",class:"chart-col"},{default:D(()=>[A("div",Fi,[v(x(lt),{class:"w-full h-full",option:s.value,autoresize:""},null,8,["option"])])]),_:1}),v(x(ae),{size:"12","size-md":"4",class:"chart-col"},{default:D(()=>[A("div",Vi,[v(x(lt),{class:"w-full h-full",option:r.value,autoresize:""},null,8,["option"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),qi=Wt(Ui,[["__scopeId","data-v-dbf19614"]]);export{qi as default};
